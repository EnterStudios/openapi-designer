<template>
  <fieldset class="type field has-children c${columns} columns" if.bind="display">
    <legend if.bind="!collapsed">
      <select value.two-way="selectedType">
        <option repeat.for="type of possibleTypes">${type}</option>
      </select>
      <input type="text" if.bind="keyKey" value.bind="key" placeholder.bind="keyPlaceholder">
    </legend>
    <h3 click.delegate="toggleCollapse()" if.bind="label" class="title">
      ${label}
      <tooltip if.bind="helpText" text.bind="helpText">
        <img src="res/info.svg" alt="Info"/>
      </tooltip>
      <button class="collapse-button" if.bind="isCollapsible">
        <img src="res/collapse-open.svg" alt="Collapse" if.bind="!collapsed"/>
        <img src="res/collapse-closed.svg" alt="Collapse" if.bind="collapsed"/>
      </button>
    </h3>
    <compose if.bind="!collapsed && !child.noView" containerless view-model.bind="child"></compose>
  </fieldset>
</template>
